(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{219:function(t,e,o){var content=o(224);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(7).default)("2b3a2820",content,!0,{sourceMap:!1})},223:function(t,e,o){"use strict";var n=o(219);o.n(n).a},224:function(t,e,o){(e=o(6)(!1)).push([t.i,".cond-constructor{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column nowrap;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-align:stretch;align-items:stretch;-webkit-box-flex:1;flex:1 1 auto}.cond-constructor__block{padding:24px 40px 48px;border-top:1px solid #f7f7f7;border-bottom:1px solid #f7f7f7}.cond-constructor__block+.cond-constructor__block{margin-top:-1px}.cond-constructor__block-actions{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row nowrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;width:75%;margin-left:25%;margin-top:48px}.cond-constructor__block-actions :last-child{margin-right:0;margin-left:auto}.cond-constructor__block .block-mark{top:-1.25em;left:40px;position:absolute;z-index:2;padding:.5em 1em;background:#f7f7f7;border-radius:.25em;text-transform:uppercase}.cond-constructor__add{padding:40px}.cond-constructor__add-control{border:2px solid #f7f7f7;border-radius:6px;padding:24px;color:#06a326;text-align:center;cursor:pointer}.cond-constructor__add-control-icon{font-size:32px;margin-bottom:.25em}.cond-constructor__actions{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row nowrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;margin:auto 0 0;padding:30px 40px;background:hsla(0,0%,96.9%,.5)}.cond-constructor__actions :last-child{margin-left:auto;margin-right:0}.cond-constructor__field{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row nowrap;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-align:baseline;align-items:baseline}.cond-constructor__field-label{-webkit-box-flex:0;flex:0 0 25%;font-weight:700}.cond-constructor__field-control{-webkit-box-flex:1;flex:1 1 100%}.cond-constructor__field+.cond-constructor__field{margin-top:20px}.cond-constructor__deps{margin-top:40px}.cond-constructor__deps .dep-mark{padding:1em;margin:-1em .5em -1em 0;background:hsla(0,0%,96.9%,.5);border-radius:.25em}.cond-constructor__deps .cond-constructor__field-control{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row nowrap;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-align:baseline;align-items:baseline;max-width:620px}.cond-constructor__deps .cond-constructor__field-control .small{max-width:120px}.cond-constructor__deps .cond-constructor__field-control .small+.small{margin-left:1em}.cond-constructor__deps .cond-constructor__field-label{font-weight:400}",""]),t.exports=e},227:function(t,e,o){"use strict";o.r(e);var n,c=o(30),l=(o(44),o(8)),base=o(84),r={name:"CondConstructor",components:{BaseButton:base.a,BaseSelect:base.c,BaseInput:base.b},computed:{},data:function(){return{messages:{condition:"Условие",add:"Добавить",delete:"Удалить",next:"Далее",test:"Протестировать опрос",card_state:"Статус",card_type:"Тип",age_range:"Диапазон",and:"и",or:"или",from:"от",to:"до"},conditions:[{title:"Возраст респондента",value:"age_range"},{title:"Тип карты лояльности",value:"card_type"},{title:"Статус карты лояльности",value:"card_state"}],dependencies:{age_range:{type:"range"},card_type:{type:"select",options:[{title:"Platinum",value:"platinum"},{title:"Gold",value:"gold"},{title:"Silver",value:"silver"},{title:"Standart",value:"standart"}]},card_state:{type:"select",options:[{title:"Активна",value:"active"},{title:"Неактивна",value:"passive"},{title:"Устарела",value:"old"}]}},items:[]}},methods:{addCondition:function(){this.items.push({title:"".concat(this.messages.condition," ").concat(this.items.length+1),value:"",deps:[]})},deleteCondition:function(i){this.items.splice(i,1)},selectCondition:function(t){t.deps=[],this.addDeps(t)},addDeps:function(t){t.deps.push({title:"".concat(this.messages[t.value]," ").concat(t.deps.length+1),value:"range"===this.dependencies[t.value].type?{from:"",to:""}:""})},submit:(n=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$post("http://httpbin.org/anything",this.items).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}},d=(o(223),o(2)),_={name:"AddQuestionnair",components:{CondConstructor:Object(d.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"cond-constructor"},[o("div",{staticClass:"cond-constructor__content"},t._l(t.items,(function(e,i){return o("div",{key:i,staticClass:"cond-constructor__block"},[i>0?o("div",{staticClass:"block-mark"},[t._v(t._s(t.messages.and))]):t._e(),t._v(" "),o("div",{staticClass:"cond-constructor__field"},[o("div",{staticClass:"cond-constructor__field-label"},[t._v(t._s(e.title))]),t._v(" "),o("base-select",{staticClass:"cond-constructor__field-control",attrs:{placeholder:"Выберите условие",options:t.conditions},on:{input:function(o){return t.selectCondition(e)}},model:{value:e.value,callback:function(o){t.$set(e,"value",o)},expression:"cond.value"}})],1),t._v(" "),e.value?o("div",{staticClass:"cond-constructor__deps"},t._l(e.deps,(function(n,c){return o("div",{key:c,staticClass:"cond-constructor__field"},[o("div",{staticClass:"cond-constructor__field-label"},[c>0?o("span",{staticClass:"dep-mark"},[t._v(t._s(t.messages.or))]):t._e(),t._v("\n            "+t._s(n.title)+"\n          ")]),t._v(" "),"range"===t.dependencies[e.value].type?o("div",{staticClass:"cond-constructor__field-control"},[o("base-input",{staticClass:"small",attrs:{label:t.messages.from},model:{value:n.value.from,callback:function(e){t.$set(n.value,"from",e)},expression:"dep.value.from"}}),t._v(" "),o("base-input",{staticClass:"small",attrs:{label:t.messages.to},model:{value:n.value.to,callback:function(e){t.$set(n.value,"to",e)},expression:"dep.value.to"}})],1):"select"===t.dependencies[e.value].type?o("base-select",{key:e.value+c,staticClass:"cond-constructor__field-control",attrs:{placeholder:"Выберите "+t.messages[e.value].toLowerCase(),options:t.dependencies[e.value].options},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"dep.value"}}):t._e()],1)})),0):t._e(),t._v(" "),o("div",{staticClass:"cond-constructor__block-actions"},[e.value?o("base-button",{attrs:{theme:"primary-outline",icon:"add"},on:{click:function(o){return t.addDeps(e)}}},[t._v("\n          "+t._s(t.messages.add+" "+t.messages[e.value].toLowerCase())+"\n        ")]):t._e(),t._v(" "),o("base-button",{attrs:{theme:"secondary-outline",icon:"delete"},on:{click:function(e){return t.deleteCondition(i)}}},[t._v("\n          "+t._s(t.messages.delete+" "+t.messages.condition.toLowerCase())+"\n        ")])],1)])})),0),t._v(" "),o("div",{staticClass:"cond-constructor__add"},[o("div",{staticClass:"cond-constructor__add-control",on:{click:t.addCondition}},[o("svg-icon",{staticClass:"cond-constructor__add-control-icon",attrs:{name:"add"}}),t._v(" "),t._m(0)],1)]),t._v(" "),o("div",{staticClass:"cond-constructor__actions"},[o("base-button",{attrs:{theme:"light"}},[t._v(t._s(t.messages.test))]),t._v(" "),o("base-button",{attrs:{icon:"arrow-forward","icon-position":"after"},on:{click:t.submit}},[t._v("\n      "+t._s(t.messages.next)+"\n    ")])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cond-constructor__add-control-text"},[this._v("\n        Нажмите, чтобюы добавить новое условие выборки.\n        "),e("br"),this._v("\n        Все условия связываются между собой логическим «И».\n      ")])}],!1,null,null,null).exports,TabPanel:c.e},computed:{},data:function(){return{tab:"Респонденты",tabs:[{title:"Параметры",content:"Параметры"},{title:"Вопросы",content:"Вопросы"},{title:"Логика",content:"Логика"},{title:"Условия",content:"Условия"},{title:"Респонденты",component:"cond-constructor"}]}}},f=Object(d.a)(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page page--add-questionnair page--with-tabs"},[o("tab-panel",{staticClass:"page__tab-panel",attrs:{items:t.tabs},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),t._v(" "),o("div",{staticClass:"page__heading"},[t._v("Добавить опрос")]),t._v(" "),o("div",{staticClass:"page__tabs"},t._l(t.tabs,(function(e){return o("div",{directives:[{name:"show",rawName:"v-show",value:e.title===t.tab,expression:"item.title === tab"}],key:e.title,staticClass:"page__tab-item"},[e.component?o(e.component,{tag:"component",attrs:{"keep-alive":""}}):o("div",{staticClass:"page__tab-content"},[t._v(t._s(e.content))])],1)})),0)],1)}),[],!1,null,null,null);e.default=f.exports}}]);